<?xml version="1.0" encoding="UTF-8"?>

<?import com.panemu.tiwulfx.control.DetachableTab?>
<?import com.panemu.tiwulfx.control.DetachableTabPane?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import java.net.URL?>
<SplitPane dividerPositions="0.3" minHeight="500" minWidth="1000" orientation="VERTICAL" xmlns="http://javafx.com/javafx/8.0.121"
           xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.SanimalAnalysisController">
    <stylesheets>
        <URL value="@SanimalAnalysis.css"/>
    </stylesheets>
    <padding>
        <Insets bottom="5" left="5" right="5" top="5"/>
    </padding>
    <items>
        <SplitPane dividerPositions="0.15, 0.3">
            <items>
                <BorderPane>
                    <GridPane.margin>
                        <Insets left="5" right="5"/>
                    </GridPane.margin>
                    <top>
                        <Label text="Species Filter" BorderPane.alignment="TOP_CENTER"/>
                    </top>
                    <center>
                        <ListView fx:id="speciesFilterListView"/>
                    </center>
                    <bottom>
                        <VBox>
                            <children>
                                <HBox spacing="5">
                                    <VBox.margin>
                                        <Insets left="5" right="5" top="10"/>
                                    </VBox.margin>
                                    <children>
                                        <TextField fx:id="txtSpeciesSearch" promptText="Search Species" HBox.hgrow="ALWAYS"/>
                                        <Button onAction="#clearSpeciesSearch" styleClass="resetSearchBtn" HBox.hgrow="NEVER"/>
                                    </children>
                                </HBox>
                                <FlowPane alignment="CENTER" hgap="5" vgap="10">
                                    <padding>
                                        <Insets bottom="10" left="5" right="5" top="10"/>
                                    </padding>
                                    <children>
                                        <Button onAction="#selectAllSpecies" mnemonicParsing="false" text="Select All"/>
                                        <Button onAction="#selectNoSpecies" mnemonicParsing="false" text="Select None"/>
                                    </children>
                                </FlowPane>
                            </children>
                        </VBox>
                    </bottom>
                </BorderPane>
                <BorderPane>
                    <GridPane.margin>
                        <Insets left="5" right="5"/>
                    </GridPane.margin>
                    <top>
                        <Label text="Location Filter" BorderPane.alignment="TOP_CENTER"/>
                    </top>
                    <center>
                        <ListView fx:id="locationFilterListView"/>
                    </center>
                    <bottom>
                        <VBox>
                            <children>
                                <HBox spacing="5">
                                    <VBox.margin>
                                        <Insets left="5" right="5" top="10"/>
                                    </VBox.margin>
                                    <children>
                                        <TextField fx:id="txtLocationSearch" promptText="Search Locations" HBox.hgrow="ALWAYS"/>
                                        <Button onAction="#clearLocationSearch" styleClass="resetSearchBtn" HBox.hgrow="NEVER"/>
                                    </children>
                                </HBox>
                                <FlowPane alignment="CENTER" hgap="5" vgap="10">
                                    <padding>
                                        <Insets bottom="10" left="5" right="5" top="10"/>
                                    </padding>
                                    <children>
                                        <Button onAction="#selectAllLocations" mnemonicParsing="false" text="Select All"/>
                                        <Button onAction="#selectNoLocations" mnemonicParsing="false" text="Select None"/>
                                    </children>
                                </FlowPane>
                            </children>
                        </VBox>
                    </bottom>
                </BorderPane>
                <GridPane>
                    <padding>
                        <Insets left="5" right="5"/>
                    </padding>
                    <rowConstraints>
                        <RowConstraints minHeight="35"/>
                        <RowConstraints minHeight="35"/>
                        <RowConstraints minHeight="35"/>
                        <RowConstraints minHeight="35"/>
                        <RowConstraints minHeight="35"/>
                        <RowConstraints minHeight="35"/>
                    </rowConstraints>
                    <columnConstraints>
                        <ColumnConstraints minWidth="150" maxWidth="150"/>
                        <ColumnConstraints minWidth="150" maxWidth="150"/>
                        <ColumnConstraints hgrow="ALWAYS"/>
                    </columnConstraints>
                    <children>
                        <Label text="Visualization Preferences" GridPane.columnSpan="2" GridPane.halignment="CENTER"/>
                        <Label text="Event Interval (minutes):" GridPane.rowIndex="1"/>
                        <TextField fx:id="txtEventInterval" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                        <Label text="Start Date:" GridPane.rowIndex="2"/>
                        <DatePicker fx:id="dateStart" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
                        <Label text="End Date:" GridPane.rowIndex="3"/>
                        <DatePicker fx:id="dateEnd" GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                        <Button text="Refresh Visualizations" onAction="#refreshVisualizations" GridPane.rowIndex="4" GridPane.columnSpan="2" GridPane.halignment="CENTER"/>
                    </children>
                </GridPane>
            </items>
        </SplitPane>
        <DetachableTabPane fx:id="tbnVisualizations">
            <DetachableTab detachable="false" text="Dr. Sanderson's Output" closable="false">
                <fx:include fx:id="visDrSanderson" source="analysisView/VisDrSanderson.fxml"/>
            </DetachableTab>
            <DetachableTab detachable="false" text="Species Accumulation Curve" closable="false">
                <fx:include fx:id="visSpeciesAccumulationCurve" source="analysisView/VisSpeciesAccumulationCurve.fxml"/>
            </DetachableTab>
            <DetachableTab detachable="false" text="CSV Output" closable="false">
                <fx:include fx:id="visCSV" source="analysisView/VisCSV.fxml"/>
            </DetachableTab>
        </DetachableTabPane>
    </items>
</SplitPane>
